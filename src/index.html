<!DOCTYPE html>
<html lang="cs">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bezpeƒçnƒõ na Netu</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <!-- App Scripts -->
    <script src="js/data.js"></script>
    <script src="js/app.js"></script>

    <style>
        [x-cloak] {
            display: none !important;
        }

        /* Custom scrollbar for planner */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #cbd5e1;
            border-radius: 4px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background-color: #f1f5f9;
        }
    </style>
</head>

<body
    class="antialiased h-screen overflow-hidden bg-slate-50 text-slate-800 selection:bg-indigo-100 selection:text-indigo-900 font-sans">

    <!-- App Container -->
    <div x-data="app()" class="h-full w-full relative flex flex-col">

        <!-- Header / Navigation -->
        <header
            class="flex-none bg-white border-b border-slate-200 px-6 py-4 flex justify-between items-center z-50 shadow-sm">
            <div class="flex items-center gap-3">
                <span class="text-2xl text-indigo-600">üõ°Ô∏è</span>
                <div>
                    <h1 class="text-xl font-bold text-slate-800 leading-tight">Bezpeƒçnƒõ na Netu</h1>
                    <!-- <p class="text-xs text-slate-500 uppercase tracking-wider font-semibold">Educational Project</p> -->
                </div>
            </div>

            <div class="flex gap-3">
                <button x-show="currentView !== 'menu'" @click="setView('menu')"
                    class="px-4 py-2 rounded-lg text-sm font-semibold text-slate-600 hover:bg-slate-100 transition-colors border border-transparent hover:border-slate-200">
                    ‚Üê Zpƒõt
                </button>
                <button @click="resetApp()"
                    class="px-4 py-2 rounded-lg text-sm font-semibold text-slate-500 hover:text-red-600 hover:bg-red-50 transition-colors"
                    title="Resetovat cel√Ω postup">
                    Od zaƒç√°tku
                </button>
            </div>
        </header>

        <!-- Dynamic Content Area -->
        <main class="flex-grow overflow-hidden relative w-full h-full">

            <!-- VIEW: Menu / Dashboard -->
            <div x-show="currentView === 'menu'" x-transition:enter="transition ease-out duration-300"
                x-transition:enter-start="opacity-0 scale-95" x-transition:enter-end="opacity-100 scale-100"
                class="absolute inset-0 p-8 md:p-12 overflow-y-auto bg-slate-50">

                <div class="max-w-5xl mx-auto">
                    <h2 class="text-3xl font-bold text-slate-900 mb-2">V√≠tej v kurzu</h2>
                    <p class="text-lg text-slate-600 mb-10 max-w-2xl">
                        Tento projekt ti pom≈Ø≈æe zanalyzovat tv√© digit√°ln√≠ n√°vyky a nauƒçit se l√©pe reagovat na rizikov√©
                        situace online.
                        Pro z√≠sk√°n√≠ fin√°ln√≠ho profilu projdi oba moduly.
                    </p>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
                        <!-- Module 1 Card -->
                        <button @click="setView('module-1')"
                            class="group relative bg-white rounded-2xl p-8 text-left border border-slate-200 shadow-sm hover:shadow-xl hover:border-indigo-300 transition-all duration-300 overflow-hidden">
                            <div
                                class="absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-10 transform group-hover:scale-110 transition-all text-8xl text-indigo-900">
                                üí¨
                            </div>

                            <div class="relative z-10">
                                <span
                                    class="text-xs font-bold uppercase text-indigo-600 tracking-wider mb-2 block">Modul
                                    1</span>
                                <h3
                                    class="text-2xl font-bold text-slate-900 mb-3 group-hover:text-indigo-700 transition-colors">
                                    Situace & Reakce</h3>
                                <p class="text-slate-500 mb-6">Analyzuj rizikov√© sc√©n√°≈ôe (kyber≈°ikana, privacy, doxing)
                                    a vyber nejvhodnƒõj≈°√≠ strategii.</p>

                                <div class="flex items-center gap-2 font-semibold"
                                    :class="appStorage.module1Completed ? 'text-green-600' : 'text-indigo-600'">
                                    <span
                                        x-text="appStorage.module1Completed ? 'Hotovo ‚úì' : 'Spustit anal√Ωzu ‚Üí'"></span>
                                </div>
                            </div>
                        </button>

                        <!-- Module 2 Card -->
                        <button @click="setView('module-2')"
                            class="group relative bg-white rounded-2xl p-8 text-left border border-slate-200 shadow-sm hover:shadow-xl hover:border-indigo-300 transition-all duration-300 overflow-hidden">
                            <div
                                class="absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-10 transform group-hover:scale-110 transition-all text-8xl text-indigo-900">
                                üìÖ
                            </div>

                            <div class="relative z-10">
                                <span
                                    class="text-xs font-bold uppercase text-indigo-600 tracking-wider mb-2 block">Modul
                                    2</span>
                                <h3
                                    class="text-2xl font-bold text-slate-900 mb-3 group-hover:text-indigo-700 transition-colors">
                                    Digit√°ln√≠ Den</h3>
                                <p class="text-slate-500 mb-6">Audit tv√©ho bƒõ≈æn√©ho dne. Zjisti, jak technologie
                                    ovliv≈àuj√≠ tv≈Øj sp√°nek a regeneraci.</p>

                                <div class="flex items-center gap-2 font-semibold"
                                    :class="appStorage.module2Completed ? 'text-green-600' : 'text-indigo-600'">
                                    <span x-text="appStorage.module2Completed ? 'Hotovo ‚úì' : 'Spustit audit ‚Üí'"></span>
                                </div>
                            </div>
                        </button>
                    </div>

                    <!-- Final Results Check -->
                    <div x-show="appStorage.module1Completed && appStorage.module2Completed"
                        class="bg-indigo-900 rounded-2xl p-8 text-white shadow-2xl flex flex-col md:flex-row items-center justify-between gap-6">
                        <div>
                            <h3 class="text-2xl font-bold mb-2">Kompetenƒçn√≠ profil je p≈ôipraven</h3>
                            <p class="text-indigo-200">Anal√Ωza obou modul≈Ø byla dokonƒçena. Pod√≠vej se na v√Ωsledky.</p>
                        </div>
                        <button @click="setView('final-results')"
                            class="px-8 py-4 bg-white text-indigo-900 rounded-lg font-bold hover:bg-indigo-50 transition-colors shadow-lg whitespace-nowrap">
                            Zobrazit profil
                        </button>
                    </div>

                </div>
            </div>

            <!-- VIEW: Module 1 (Situational Analysis) -->
            <div x-show="currentView === 'module-1'" x-data="quizStore()"
                @module-complete.window="completeModule($event.detail.moduleId)" x-cloak
                class="absolute inset-0 bg-slate-50 overflow-y-auto p-4 md:p-8">

                <div class="max-w-4xl mx-auto h-full flex flex-col">
                    <!-- Progress Header -->
                    <div class="flex justify-between items-center mb-4 flex-none" x-show="!showResults">
                        <span class="text-sm font-bold text-slate-400 uppercase tracking-widest">
                            P≈ô√≠padov√° studie <span x-text="currentScenarioIndex + 1"></span> / <span
                                x-text="activeScenarios.length"></span>
                        </span>
                        <div class="w-32 h-2 bg-slate-200 rounded-full overflow-hidden">
                            <div class="h-full bg-indigo-600 transition-all duration-300"
                                :style="`width: ${progressPercentage}%`"></div>
                        </div>
                    </div>

                    <!-- Scenario Card -->
                    <div x-show="!showResults && scenario" x-transition
                        class="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden flex-grow md:flex-none">

                        <div class="p-6 md:p-8 border-b border-slate-100 bg-slate-50/50">
                            <div class="inline-block px-3 py-1 rounded-full text-xs font-bold bg-indigo-100 text-indigo-700 mb-4 uppercase tracking-wide"
                                x-text="scenario.category"></div>
                            <h2 class="text-2xl md:text-3xl font-bold text-slate-900 mb-4" x-text="scenario.title"></h2>
                            <p class="text-lg text-slate-600 leading-relaxed" x-text="scenario.description"></p>
                        </div>

                        <div class="p-6 md:p-8 bg-white">
                            <h3 class="text-sm font-bold text-slate-400 uppercase mb-4">Vyber jedno ≈ôe≈°en√≠:</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                                <template x-for="option in scenario.options">
                                    <button @click="selectAnswer(option)"
                                        class="text-left p-4 rounded-xl border border-slate-200 hover:border-indigo-400 hover:bg-indigo-50 transition-all flex items-center justify-between group h-full">
                                        <span x-text="option.text"
                                            class="font-medium text-slate-700 group-hover:text-indigo-900"></span>
                                        <span
                                            class="opacity-0 group-hover:opacity-100 text-indigo-500 font-bold ml-2">‚Üí</span>
                                    </button>
                                </template>
                            </div>
                        </div>
                    </div>

                    <!-- Immediate Feedback Overlay -->
                    <div x-show="showFeedback"
                        class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm"
                        x-transition.opacity>

                        <div class="bg-white rounded-2xl max-w-lg w-full p-8 shadow-2xl transform transition-all"
                            @click.outside="nextScenario()">

                            <div class="flex items-center gap-4 mb-6">
                                <div class="w-12 h-12 rounded-full flex items-center justify-center text-xl shrink-0"
                                    :class="{
                                        'bg-green-100 text-green-600': currentFeedbackBlock?.type === 'ideal',
                                        'bg-yellow-100 text-yellow-600': currentFeedbackBlock?.type === 'ok',
                                        'bg-red-100 text-red-600': currentFeedbackBlock?.type === 'bad'
                                    }">
                                    <span
                                        x-text="currentFeedbackBlock?.type === 'ideal' ? '‚úì' : (currentFeedbackBlock?.type === 'bad' ? '!' : 'i')"></span>
                                </div>
                                <h3 class="text-xl font-bold text-slate-900"
                                    x-text="currentFeedbackBlock?.type === 'ideal' ? 'Doporuƒçen√Ω postup' : (currentFeedbackBlock?.type === 'bad' ? 'Rizikov√© chov√°n√≠' : 'Akceptovateln√©')">
                                </h3>
                            </div>

                            <p class="text-slate-600 mb-8 leading-relaxed" x-text="currentFeedbackBlock?.feedback"></p>

                            <button @click="nextScenario()"
                                class="w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg transition-colors">
                                Pokraƒçovat
                            </button>
                        </div>
                    </div>

                    <!-- Module 1 Completion -->
                    <div x-show="showResults" class="text-center py-12 max-w-2xl mx-auto">
                        <div
                            class="w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6 text-4xl">
                            ‚úì</div>
                        <h2 class="text-3xl font-bold text-slate-900 mb-4">Anal√Ωza dokonƒçena</h2>
                        <p class="text-slate-600 mb-8">Tv√© odpovƒõdi byly zaznamen√°ny do kompetenƒçn√≠ho profilu.</p>
                        <button @click="setView('menu')"
                            class="px-8 py-3 bg-slate-900 text-white rounded-lg font-bold hover:bg-slate-800 transition-colors">
                            Zpƒõt na p≈ôehled
                        </button>
                    </div>
                </div>
            </div>

            <!-- VIEW: Module 2 (Day Audit) -->
            <div x-show="currentView === 'module-2'" x-data="plannerStore()"
                @module-complete.window="completeModule($event.detail.moduleId)" @mouseup.window="stopDrag()" x-cloak
                class="absolute inset-0 flex flex-col h-full bg-slate-50 overflow-hidden">

                <!-- Audit Header -->
                <div
                    class="bg-white border-b border-slate-200 p-3 flex justify-between items-center shadow-sm z-10 flex-none">
                    <div class="flex items-center gap-4">
                        <h2 class="font-bold text-slate-800 hidden md:block">Digit√°ln√≠ Den</h2>
                        <div class="h-6 w-px bg-slate-200 hidden md:block"></div>
                        <div class="text-xs text-slate-500">
                            Vypl≈à sv≈Øj bƒõ≈æn√Ω den. <br class="md:hidden"> Nezapome≈à na sp√°nek!
                        </div>
                    </div>

                    <div class="flex items-center gap-4">
                        <div class="text-right hidden sm:block">
                            <div class="text-xs uppercase font-bold text-slate-400">Pasivn√≠ Screen Time</div>
                            <div class="font-mono font-bold"
                                :class="totalPassiveScreenTime > 2 ? 'text-orange-500' : 'text-green-600'">
                                <span x-text="totalPassiveScreenTime"></span>h
                            </div>
                        </div>
                        <button @click="evaluateDay()" :disabled="!isGridFull"
                            class="px-6 py-2 rounded-lg font-bold text-sm transition-all shadow-sm border border-transparent"
                            :class="isGridFull ? 'bg-indigo-600 text-white hover:bg-indigo-700 shadow-md' : 'bg-slate-100 text-slate-400 cursor-not-allowed'">
                            Dokonƒçit audit
                        </button>
                    </div>
                </div>

                <div class="flex-grow flex overflow-hidden">
                    <!-- Sidebar Palette (Desktop) -->
                    <div
                        class="w-64 bg-white border-r border-slate-200 overflow-y-auto p-4 custom-scrollbar hidden md:block flex-none">
                        <h3 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-4">Aktivity</h3>

                        <div class="space-y-6">
                            <!-- Mandatory -->
                            <div>
                                <h4 class="text-xs font-semibold text-slate-900 mb-2 flex justify-between">
                                    Z√°kladn√≠ pot≈ôeby
                                    <span x-show="mandatoryComplete" class="text-green-500">‚úì</span>
                                </h4>
                                <div class="space-y-1">
                                    <template x-for="act in mandatoryActivities">
                                        <button @click="selectActivity(act.id)"
                                            class="w-full flex items-center gap-3 p-2 rounded-md hover:bg-slate-50 transition-colors border border-transparent"
                                            :class="selectedActivityId === act.id ? 'bg-slate-50 border-indigo-500 ring-1 ring-indigo-500' : ''">
                                            <div class="w-6 h-6 rounded flex items-center justify-center text-xs font-bold border"
                                                :class="act.color">
                                                <span x-text="act.icon"></span>
                                            </div>
                                            <span class="text-sm text-slate-700" x-text="act.name"></span>
                                        </button>
                                    </template>
                                </div>
                            </div>

                            <!-- Optional -->
                            <div :class="mandatoryComplete ? '' : 'opacity-40 pointer-events-none'">
                                <h4 class="text-xs font-semibold text-slate-900 mb-2">Voln√Ω ƒças</h4>
                                <div class="space-y-1">
                                    <template x-for="act in optionalActivities">
                                        <button @click="selectActivity(act.id)"
                                            class="w-full flex items-center gap-3 p-2 rounded-md hover:bg-slate-50 transition-colors border border-transparent"
                                            :class="selectedActivityId === act.id ? 'bg-slate-50 border-indigo-500 ring-1 ring-indigo-500' : ''">
                                            <div class="w-6 h-6 rounded flex items-center justify-center text-xs font-bold border"
                                                :class="act.color">
                                                <span x-text="act.icon"></span>
                                            </div>
                                            <span class="text-sm text-slate-700" x-text="act.name"></span>
                                        </button>
                                    </template>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Main Grid Container -->
                    <div class="flex-grow bg-slate-100 p-2 md:p-4 overflow-y-auto relative flex flex-col">

                        <!-- Mobile Palette (Visible < MD) -->
                        <div
                            class="md:hidden w-full bg-white mb-2 rounded-lg shadow-sm p-2 flex gap-2 overflow-x-auto flex-none whitespace-nowrap">
                            <template x-for="act in mandatoryActivities.concat(optionalActivities)">
                                <button @click="selectActivity(act.id)"
                                    class="inline-flex items-center gap-2 px-3 py-2 rounded-full border text-xs font-bold shrink-0"
                                    :class="[act.color, selectedActivityId === act.id ? 'ring-2 ring-black' : '']">
                                    <span x-text="act.icon"></span>
                                    <span x-text="act.name"></span>
                                </button>
                            </template>
                        </div>

                        <!-- Grid itself -->
                        <!-- FIX: Reduced padding and ensured container fits. Using flex-grow on container is good, but 
                             if grid items are too tall, they will scroll. That's expected, but we want to minimize it.
                             Reducing grid gap and container max-width. -->
                        <div
                            class="grid grid-cols-4 md:grid-cols-6 lg:grid-cols-12 gap-1 w-full max-w-6xl mx-auto bg-white p-3 rounded-xl shadow-sm border border-slate-200">
                            <template x-for="(cell, index) in grid">
                                <div @mousedown="startDrag(index)" @mouseenter="onDragOver(index)"
                                    class="aspect-square relative border border-slate-100 hover:border-indigo-300 transition-colors cursor-pointer"
                                    :class="cell ? '' : 'bg-slate-50'">

                                    <span
                                        class="absolute top-0 left-1 text-[9px] text-slate-300 font-mono pointer-events-none"
                                        x-text="formatTime(index)" x-show="!cell"></span>

                                    <div x-show="cell"
                                        class="w-full h-full flex items-center justify-center text-sm font-bold border opacity-90"
                                        :class="getActivityColor(cell)">
                                        <span x-text="getActivityIcon(cell)"></span>
                                    </div>
                                </div>
                            </template>
                        </div>
                    </div>
                </div>

                <!-- Module 2 Completion Overlay -->
                <div x-show="showResults"
                    class="absolute inset-0 bg-white z-50 flex flex-col items-center justify-center p-8">
                    <h2 class="text-3xl font-bold text-slate-900 mb-4">Denn√≠ audit ulo≈æen</h2>
                    <p class="text-slate-600 mb-8">Data o tv√©m sp√°nku a ƒçasu u obrazovky byla zpracov√°na.</p>
                    <button @click="setView('menu')"
                        class="px-8 py-3 bg-indigo-600 text-white rounded-lg font-bold hover:bg-indigo-700 transition-colors">
                        Pokraƒçovat
                    </button>
                </div>

            </div>

            <!-- VIEW: Final Results (Competency Profile) -->
            <div x-show="currentView === 'final-results'"
                class="absolute inset-0 bg-slate-50 z-50 overflow-y-auto p-4 md:p-12">

                <div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden border border-slate-200">
                    <div class="bg-indigo-900 p-8 text-white text-center">
                        <h2 class="text-3xl font-bold mb-2">Kompetenƒçn√≠ Profil</h2>
                        <p class="text-indigo-200">Souhrn tv√Ωch digit√°ln√≠ch n√°vyk≈Ø a postoj≈Ø</p>
                    </div>

                    <div class="p-8 md:p-12 space-y-12">

                        <!-- Skill Bars -->
                        <div class="space-y-8">
                            <!-- Safety -->
                            <div>
                                <div class="flex justify-between mb-2">
                                    <h3 class="font-bold text-slate-800">Digit√°ln√≠ Bezpeƒçnost a Ochrana Dat</h3>
                                    <span class="font-mono font-bold text-indigo-600"
                                        x-text="Math.round(profile.safety || 0) + '%'"></span>
                                </div>
                                <div class="h-4 bg-slate-100 rounded-full overflow-hidden">
                                    <div class="h-full bg-indigo-500 rounded-full transition-all duration-1000"
                                        :style="`width: ${profile.safety || 0}%`"></div>
                                </div>
                                <p class="text-sm text-slate-600 mt-2 bg-slate-50 p-4 rounded-lg border-l-4 border-indigo-500"
                                    x-text="feedback.safety"></p>
                            </div>

                            <!-- Empathy -->
                            <div>
                                <div class="flex justify-between mb-2">
                                    <h3 class="font-bold text-slate-800">Soci√°ln√≠ Interakce a Emoƒçn√≠ Inteligence</h3>
                                    <span class="font-mono font-bold text-indigo-600"
                                        x-text="Math.round(profile.empathy || 0) + '%'"></span>
                                </div>
                                <div class="h-4 bg-slate-100 rounded-full overflow-hidden">
                                    <div class="h-full bg-teal-500 rounded-full transition-all duration-1000"
                                        :style="`width: ${profile.empathy || 0}%`"></div>
                                </div>
                                <p class="text-sm text-slate-600 mt-2 bg-slate-50 p-4 rounded-lg border-l-4 border-teal-500"
                                    x-text="feedback.empathy"></p>
                            </div>

                            <!-- Wellbeing -->
                            <div>
                                <div class="flex justify-between mb-2">
                                    <h3 class="font-bold text-slate-800">Digit√°ln√≠ Wellbeing a Psychohygiena</h3>
                                    <span class="font-mono font-bold text-indigo-600"
                                        x-text="Math.round(profile.wellbeing || 0) + '%'"></span>
                                </div>
                                <div class="h-4 bg-slate-100 rounded-full overflow-hidden">
                                    <div class="h-full bg-rose-500 rounded-full transition-all duration-1000"
                                        :style="`width: ${profile.wellbeing || 0}%`"></div>
                                </div>
                                <p class="text-sm text-slate-600 mt-2 bg-slate-50 p-4 rounded-lg border-l-4 border-rose-500"
                                    x-text="feedback.wellbeing"></p>
                            </div>
                        </div>



                        <!-- Combined Analysis & Feedback -->
                        <div class="bg-indigo-50/50 p-6 md:p-8 rounded-2xl border border-indigo-100 shadow-sm"
                            x-show="(feedback.mistakes && feedback.mistakes.length > 0) || (feedback.tips && feedback.tips.length > 0)">

                            <h4
                                class="font-bold text-indigo-900 mb-6 uppercase text-sm tracking-wider flex items-center gap-2 border-b border-indigo-100 pb-2">
                                <span>üîç</span> Podrobn√° anal√Ωza chyb a doporuƒçen√≠
                            </h4>

                            <!-- Part 1: Mistakes (Module 1) -->
                            <template x-if="feedback.mistakes && feedback.mistakes.length > 0">
                                <div class="mb-8">
                                    <h5
                                        class="text-xs font-bold text-red-800/70 uppercase mb-3 flex items-center gap-2">
                                        <span>‚ö†Ô∏è</span> Tv√© chyby v situac√≠ch (Modul 1)
                                    </h5>
                                    <div class="space-y-3">
                                        <template x-for="mistake in feedback.mistakes">
                                            <div class="bg-white p-4 rounded-xl shadow-sm border border-red-100/50">
                                                <div class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1"
                                                    x-text="mistake.question"></div>
                                                <div class="font-medium text-slate-900 mb-2 flex items-start gap-2">
                                                    <span class="text-red-500 mt-1 text-xs">‚ùå</span>
                                                    <span x-text="mistake.answer"
                                                        class="text-red-700 font-semibold"></span>
                                                </div>
                                                <div
                                                    class="text-sm text-slate-600 bg-slate-50 p-3 rounded-lg border-l-2 border-indigo-200">
                                                    <span
                                                        class="font-semibold text-indigo-900 block mb-1">Doporuƒçen√≠:</span>
                                                    <span x-text="mistake.feedback"></span>
                                                </div>
                                            </div>
                                        </template>
                                    </div>
                                </div>
                            </template>

                            <!-- Part 2: Tips (Module 2 / General) -->
                            <template x-if="feedback.tips && feedback.tips.length > 0">
                                <div>
                                    <h5
                                        class="text-xs font-bold text-indigo-800/70 uppercase mb-3 flex items-center gap-2">
                                        <span>üí°</span> Tipy pro lep≈°√≠ wellbeing (Modul 2)
                                    </h5>
                                    <ul class="bg-white p-5 rounded-xl border border-indigo-100 space-y-3 shadow-sm">
                                        <template x-for="tip in feedback.tips">
                                            <li class="flex items-start gap-3 text-slate-700 text-sm">
                                                <span class="text-green-500 mt-1">‚úì</span>
                                                <span x-text="tip"></span>
                                            </li>
                                        </template>
                                    </ul>
                                </div>
                            </template>
                        </div>


                        <!-- Task 2 Feedback (Planner) -->
                        <div class="bg-blue-50 p-6 rounded-xl border border-blue-100" x-show="feedback.planner">
                            <h4
                                class="font-bold text-blue-900 mb-2 uppercase text-xs tracking-wider flex items-center gap-2">
                                <span>üìÖ</span> Hodnocen√≠ dne (Modul 2)
                            </h4>
                            <p class="text-slate-700 text-sm leading-relaxed" x-text="feedback.planner"></p>
                        </div>

                        <!-- Success Fallback (if no mistakes/tips) -->
                        <div class="bg-green-50 p-6 rounded-xl border border-green-100 text-center"
                            x-show="(!feedback.mistakes || feedback.mistakes.length === 0) && (!feedback.tips || feedback.tips.length === 0)">
                            <span class="text-4xl block mb-2">üåü</span>
                            <h4 class="font-bold text-green-900 mb-2">Fantastick√° pr√°ce!</h4>
                            <p class="text-green-800 text-sm">Nena≈°li jsme ≈æ√°dn√© z√°sadn√≠ chyby. Jsi vzorem digit√°ln√≠
                                bezpeƒçnosti!</p>
                        </div>

                        <div class="text-center pt-8 border-t border-slate-100">
                            <button @click="resetApp()"
                                class="text-slate-500 hover:text-slate-800 font-semibold transition-colors text-sm">
                                ‚Ü∫ Resetovat a zkusit znovu
                            </button>
                        </div>

                    </div>
                </div>

            </div>

        </main>
    </div>

</body>

</html>